{% extends 'layout.html.twig' %}

{% block title %}{{ "Information"|trans }} {{ employe.nom }} {{ employe.prenom }} - PharmaCare {% endblock %}
{% block administration %}active{% endblock %}
{% block employe %}active{% endblock %}

{% block body %}
    <div class="container my-5 fond">
        <h3 class="mt-2 mb-5 text-bold">
            <i class="fa fa-id-card"></i>
            {{ "Information de l'employé"|trans }}
        </h3>
        {% if employe.diabete ==1 or
            employe.handicap ==1 or
            employe.epilepsie ==1 or
            employe.hypo ==1 or
            employe.hyper ==1 or
            employe.remark is not null %}
            <div class="alert alert-danger shadow my-5 p-3 border-danger border-1 text-danger text-bold">
                <div class="row">
                    {% if employe.diabete ==1 %}
                        <div class="col-md-2 col-6">
                            <i class="fa fa-asterisk"></i>
                            {{ 'Diabétique'|trans }}
                        </div>
                    {% endif %}
                    {% if employe.handicap ==1 %}
                        <div class="col-md-2 col-6">
                            <i class="fa fa-asterisk"></i>
                            {% if employe.sexe == 'Feminin' %}
                                {{ 'Handicapée'|trans }}
                            {% else %}
                                {{ 'Handicapé'|trans }}
                            {% endif %}
                        </div>
                    {% endif %}
                    {% if employe.epilepsie ==1 %}
                        <div class="col-md-2 col-6">
                            <i class="fa fa-asterisk"></i>
                            {{ 'Epileptique'|trans }}
                        </div>
                    {% endif %}
                    {% if employe.hypo ==1 %}
                        <div class="col-md-2 col-6">
                            <i class="fa fa-asterisk"></i>
                            {% if employe.sexe == 'Feminin' %}
                                {{ 'Hypotendue'|trans }}
                            {% else %}
                                {{ 'Hypotendu'|trans }}
                            {% endif %}
                        </div>
                    {% endif %}
                    {% if employe.hyper ==1 %}
                        <div class="col-md-2 col-6">
                            <i class="fa fa-asterisk"></i>
                            {% if employe.sexe == 'Feminin' %}
                                {{ 'Hypertendue'|trans }}
                            {% else %}
                                {{ 'Hypertendu'|trans }}
                            {% endif %}
                        </div>
                    {% endif %}
                    {% if employe.remark is not null %}
                        <div class="col-md-2 col-6">
                            <i class="fa fa-asterisk"></i> {{ employe.remark }}
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endif %}
        <div class="row mt-5">
            <div class="col">
                <table class="table table-striped table-bordered">
                    <tr>
                        <th class="text-end w-40">{{ "Civilié"|trans }}</th>
                        <td data-label="{{ "Civilié"|trans }}">{{ employe.sexe=='Homme' ? 'Monsieur' : 'Madame' }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Nom"|trans }}</th>
                        <td data-label="{{ "Nom"|trans }}">{{ employe.nom }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Prénom"|trans }}</th>
                        <td data-label="{{ "Prénom"|trans }}">{{ employe.prenom }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Date de naissance"|trans }}</th>
                        <td data-label="{{ "Date de naissance"|trans }}">{{ employe.dateNaissance|date('d/m/Y') }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Lieu de naissance"|trans }}</th>
                        <td data-label="{{ "Lieu de naissance"|trans }}">{{ employe.lieuNaissance }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Nationnalité"|trans }}</th>
                        <td data-label="{{ "Nationnalité"|trans }}">{{ employe.nationalite }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Téléphone"|trans }}</th>
                        <td data-label="{{ "Téléphone"|trans }}">{{ employe.phone }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Adresse email"|trans }}</th>
                        <td data-label="{{ "Adresse email"|trans }}">{{ employe.email }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Etat civil"|trans }}</th>
                        <td data-label="{{ "Etat civil"|trans }}">{{ employe.civilite }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Nombre d'enfant"|trans }}</th>
                        <td data-label="{{ "Nombre d'enfant"|trans }}">{{ employe.enfant }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Adresse"|trans }}</th>
                        <td data-label="{{ "Adresse"|trans }}">{{ employe.adresse }}</td>
                    </tr>
                </table>
            </div>
            <div class="col-lg-3 text-center">
                {% if employe.sexe=='Homme' %}
                    <img src="{{ employe.photo ?? asset('/images/avatar-homme.avif') }}"
                         alt="Photo de {{ employe.nom }}" class="img-fluid border border-green w-100">
                {% else %}
                    <img src="{{ employe.photo ?? asset('/images/avatar-femme.avif') }}"
                         alt="Photo de {{ employe.nom }}" class="img-fluid border border-green w-100">
                {% endif %}
                <h3 class="mt-4 text-bold">
                    {{ employe.nom }} {{ employe.prenom }}
                </h3>
                <span class="badge bg-success mb-5 py-1 px-3 fs-6 rounded-pill">{{ employe.poste.nom }}</span>
            </div>
            <div class="col">
                <table class="table table-striped table-bordered">
                    <tr>
                        <th class="text-end w-40">{{ "Matricule"|trans }}</th>
                        <td data-label="{{ "Matricule"|trans }}">{{ employe.matricule }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Catégorie"|trans }}</th>
                        <td data-label="{{ "Catégorie"|trans }}">{{ employe.categorie }} {{ "Echelon"|trans }} {{ employe.echelle }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "N° CNPS"|trans }}</th>
                        <td data-label="{{ "N° CNPS"|trans }}">{{ employe.cnps }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Date d'embauche"|trans }}</th>
                        <td data-label="{{ "Date d'embauche"|trans }}">{{ employe.hireDate|date('d/m/Y') }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "N° compte bancaire"|trans }}</th>
                        <td data-label="{{ "N° compte bancaire"|trans }}">{{ employe.banque }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Poste"|trans }}</th>
                        <td data-label="{{ "Poste"|trans }}">{{ employe.poste.nom }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Département"|trans }}</th>
                        <td data-label="{{ "Département"|trans }}">{{ employe.poste.departement.nom }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Salaire"|trans }}</th>
                        <td data-label="{{ "Salaire"|trans }}">{{ employe.poste.salaire|number_format(0, app.request.locale == 'fr' ? ',' : '.', app.request.locale == 'fr' ? ' ' : ',') }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Parent"|trans }}</th>
                        <td data-label="{{ "Parent"|trans }}">{{ employe.famillyname }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Lien de parenté"|trans }}</th>
                        <td data-label="{{ "Lien de parenté"|trans }}">{{ employe.famillylink }}</td>
                    </tr>
                    <tr>
                        <th class="text-end w-40">{{ "Téléphone"|trans }} </th>
                        <td data-label="{{ "Téléphone"|trans }}">{{ employe.famillyphone }}</td>
                    </tr>

                </table>
            </div>
        </div>
        <div class="col-lg-3 fond my-4">
            <div class="centrer gap-3">
                <a href="{{ path('employe_edit', {'id': employe.id}) }}" class="btn btn-success">
                    <i class="fa fa-edit"></i>
                    {{ "Modifier"|trans }}
                </a>
                <a href="{{ path('employe_index') }}" class="btn btn-success">
                    <i class="fa fa-undo"></i>
                    {{ "Retour"|trans }}
                </a>
            </div>
        </div>
    </div>
{% endblock %}